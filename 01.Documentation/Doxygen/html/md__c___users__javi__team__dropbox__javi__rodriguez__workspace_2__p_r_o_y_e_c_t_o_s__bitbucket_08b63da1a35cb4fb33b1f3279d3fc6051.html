<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Battery doc: DISPLAY LED</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Battery doc
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md__c___users__javi__team__dropbox__javi__rodriguez__workspace_2__p_r_o_y_e_c_t_o_s__bitbucket_08b63da1a35cb4fb33b1f3279d3fc6051.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">DISPLAY LED </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >: Esta funcion recoge un caracter y devuelve su bitmap correspondiente.</p>
<p >Diplay led de tama√±o 15x7 leds blancos. Este display se "partira" en dos, de manerra que se quede una pantalla de 14x7 que se utilizara para la interfaz de la bateria con el uso de caracteres ASCII, y ademas quedara una "barra" de leds de 14x1 que se usara como medidor visual del consumo e potencia isntantanea de la bateria.</p>
<p ><img src="images/I2C_frecuency.jpg" alt="Alternate text" title="Frecuencia del I2C en ARM" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md34"></a>
Funciones Privadas</h1>
<ul>
<li><b>Char2Bitmap</b>(char character, uint8_t *bitmap, int16_t array_len):<ul>
<li>* <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"></td><td>character.</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"></td><td>*bitmap.</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"></td><td>array_len.</td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md35"></a>
Funciones Publicas</h1>
<ul>
<li><b>SwitchScreenOff</b><ul>
<li>: Apagado total de la pantalla.</li>
</ul>
</li>
</ul>
<hr  />
<ul>
<li><b>DisplayText</b>(&lt;String&gt;,reset, brillo):<ul>
<li>: Esta funcion muestra en el display una cadena de caracteres en un scroll lateral der-izq.No permite la introduccion de un cadena nueva hasta que no se haya terminado de imprimir la previa.</li>
<li><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"></td><td>cadena.</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"></td><td>reset. Permite reiniciar el muestreado por la pantalla.</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"></td><td>brillo. Ajusta el brillo de los leds.</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="section return"><dt>Returns</dt><dd>: bool.<ul>
<li>True: Si esta listo para imprimir una nueva cadena.</li>
<li>FalsE: Si se enceuntra ocupado en la impresion de una cadena.</li>
</ul>
</dd></dl>
<b>Tiempo de ejecucion:</b><ul>
<li>Not_Busy: ~ 80us.</li>
<li>Bussy en espera: ~ 30us;</li>
<li>Bussy escribiendo: ~ 25ms.</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr  />
<ul>
<li><b>DisplayVolt</b>(&lt;integer&gt;,brillo):<ul>
<li>: Esta funcion imprime la pantalla de voltaje, que muestra le voltaje al que se encuentra la salida de la bateria, con un decimal.</li>
<li><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"></td><td>Volts.</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"></td><td>Brillo. Permite ajustar el brillo de la pantalla.</td></tr>
  </table>
  </dd>
</dl>
<b>Tiempo de ejecucion:</b> ~20ms.</li>
</ul>
</li>
</ul>
<hr  />
<ul>
<li><b>PowerBar</b>(&lt;integer&gt;, brillo):<ul>
<li>: Esta funcion se encarga de encender y apagar los leds necesarios en la barra de potencia.</li>
<li><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"></td><td>Leds.</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"></td><td>Brillo.Permite ajustar el brillo de los leds.</td></tr>
  </table>
  </dd>
</dl>
<b>Tiempo de ejecucion:</b> ~2,6ms.</li>
</ul>
</li>
</ul>
<hr  />
<ul>
<li><b>DisplayCap</b>(&lt;integer&gt;,brillo):<ul>
<li>: Esta fncion muestra la pantalla de porcentaje de capacidad de bateria. si la capacidad es 100% muestra la pantalla FULL.</li>
<li><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"></td><td>capacity.</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"></td><td>Brillo. Permite ajustar el brillo de los leds.</td></tr>
  </table>
  </dd>
</dl>
<b>Tiempo de ejecucion:</b> ~20ms.</li>
</ul>
</li>
</ul>
<hr  />
<ul>
<li><b>DisplayBattCharging</b>(&lt;integer&gt;):<ul>
<li>: Esta funcion muestra el marco de una bateria, se encarga de ir rellenando de manera solida la capacidad recibida, y deja parpadeando la que seria el proximo 10% que se encuentra cargando.</li>
<li><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"></td><td>Capacity.</td></tr>
  </table>
  </dd>
</dl>
<b>Tiempo de ejecucion:</b> 7-16 ms.</li>
</ul>
</li>
<li><b>LedWork</b>(state,brillo):<ul>
<li>Funcion que permite encender y apagar el boton que representa el estado de la salida del voltage.</li>
<li><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state_led</td><td></td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mode_bright</td><td></td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>
</li>
<li><b>DisplayUsbIn</b>:<ul>
<li>Animacion de Entrada del USB. A los 2 segundos disminuye su brillo.</li>
<li><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ledmatrix</td><td></td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>
</li>
<li><b>DisplayUsbOut</b>:<ul>
<li>Anuimacion de salida del USB.</li>
<li><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ledmatrix</td><td></td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>
</li>
<li><b>Display Diagnostic Mode</b> ():<ul>
<li>: Animacion del modo diagnostico.</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md41"></a>
TESTs</h1>
<h2><a class="anchor" id="autotoc_md42"></a>
TEST 0</h2>
<p >Testeo de la funcion DisplayTest. PAra ponerla a prueba se lanzara funcion con distintas cadenas de texto. El resultado debe ser la impresion de cad cadena de manera consecutiva sin ningun tipo de solapamiento.</p>
<h2><a class="anchor" id="autotoc_md43"></a>
TEST 1</h2>
<p >Test de la funcion DisplayVolts. Este test imprime todos los posibles valores de voltaje de manera ascendente y despues de manera descendente.</p>
<h2><a class="anchor" id="autotoc_md44"></a>
Test 2</h2>
<p >Este test simula el funcionamiento de la barra de potencia creando un movimeinto senosoidal de manera ciclica.</p>
<h2><a class="anchor" id="autotoc_md45"></a>
Test 3</h2>
<p >Este test pone a prueba la compatibilidad y convivencia de la barra de potencia y el display de informacion, en este caso mostrando cambios de voltaje.</p>
<h2><a class="anchor" id="autotoc_md46"></a>
Test 4</h2>
<p >Test de la funcion DisplayCap. Este test imprime toda la capacidad posible de la bateria ( 0-100 ). Ascendente y descendente, de manera ciclica.</p>
<h2><a class="anchor" id="autotoc_md47"></a>
Test 5</h2>
<p >Test de la funcion DisplayBattCharging. Este test muestra la evolucion de la carga de la bateria, desde el 0% al 100%.</p>
<h2><a class="anchor" id="autotoc_md48"></a>
Test 6</h2>
<p >Testeo de la funcion DisplayTest mostrando todos los caracteres imprimibles posibles.</p>
<h2><a class="anchor" id="autotoc_md49"></a>
Test 7</h2>
<p >Testeo del boton que marca el estado de la salida de voltage que forma parte de la pantalla.</p>
<h2><a class="anchor" id="autotoc_md50"></a>
Test 8</h2>
<p >Test que prueba las animaciones de entrada y salida de un USB. En el caso de la entrada pasados 2 segundos el brillo disminuye. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3 </li>
  </ul>
</div>
</body>
</html>
