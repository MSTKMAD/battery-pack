\hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source}{}\doxysection{TEST\+\_\+0.\+ino}
\label{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source}\index{C:/Users/Javi/Team Dropbox/Javi Rodriguez/Workspace/2-\/PROYECTOS/Bitbucket/03-\/Battery Pack/bat\_sw/LIBRARIES/0005-\/SENSING/examples/TEST\_0/TEST\_0.ino@{C:/Users/Javi/Team Dropbox/Javi Rodriguez/Workspace/2-\/PROYECTOS/Bitbucket/03-\/Battery Pack/bat\_sw/LIBRARIES/0005-\/SENSING/examples/TEST\_0/TEST\_0.ino}}
\mbox{\hyperlink{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00001}00001 }
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00012}00012 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{_health_monitor_8h}{HealthMonitor.h}}>}}
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00013}00013 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{_milli_timer_8h}{MilliTimer.h}}>}}
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00014}00014 }
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00015}\mbox{\hyperlink{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_a3df6766829d4e2a23ad7afffcd8999d1}{00015}} \textcolor{preprocessor}{\#define DAC\_PIN A0}}
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00016}00016 }
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00017}\mbox{\hyperlink{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_a805e1115f500e6d8046986b3e306779b}{00017}} \mbox{\hyperlink{class_health_monitor}{HealthMonitor}} \mbox{\hyperlink{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_a805e1115f500e6d8046986b3e306779b}{sensor\_1}}(3000, \mbox{\hyperlink{_health_monitor_8h_a3066de0872e48de34d6184e9fffda49b}{C\_RISE\_COUNT}}, C\_FALL\_COUNT, \mbox{\hyperlink{_health_monitor_8h_a9d401d356b9137e774ca9b0dc4792f9c}{C\_COUNTER\_LIMIT}});}
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00018}00018 }
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00019}\mbox{\hyperlink{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_a557cbeabffc4ae613e1db945c13d140b}{00019}} uint16\_t \mbox{\hyperlink{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_a557cbeabffc4ae613e1db945c13d140b}{sample}} = 0;}
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00020}\mbox{\hyperlink{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_af6a39bfc7e1dc3b6f9c997c1c43fa996}{00020}} uint16\_t \mbox{\hyperlink{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_af6a39bfc7e1dc3b6f9c997c1c43fa996}{count}} = 0;}
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00021}\mbox{\hyperlink{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_a654f29211026f95a80879530898464ea}{00021}} uint16\_t \mbox{\hyperlink{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_a654f29211026f95a80879530898464ea}{dac\_output}};}
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00022}00022 }
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00023}\mbox{\hyperlink{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_a26e44e0b5d60aea1a1a15032887d144e}{00023}} \mbox{\hyperlink{class_milli_timer}{MilliTimer}} \mbox{\hyperlink{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_a26e44e0b5d60aea1a1a15032887d144e}{trigger\_timer}};}
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00024}00024 }
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00025}\mbox{\hyperlink{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_a4fc01d736fe50cf5b977f755b675f11d}{00025}} \textcolor{keywordtype}{void} \mbox{\hyperlink{0001-_b_u_t_t_o_n_s_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_a4fc01d736fe50cf5b977f755b675f11d}{setup}}()}
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00026}00026 \{}
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00027}00027     pinMode(A2, OUTPUT);}
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00028}00028     Serial.begin(9600);}
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00029}00029     \textcolor{keywordflow}{while} (!Serial)}
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00030}00030         ;}
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00031}00031     analogWriteResolution(10); \textcolor{comment}{// Set analog out resolution to max, 10-\/bits}}
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00032}00032 }
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00033}00033     \mbox{\hyperlink{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_a805e1115f500e6d8046986b3e306779b}{sensor\_1}}.\mbox{\hyperlink{class_health_monitor_a8ef42b9203777a467dfe18c4bbe5d17e}{setCounter}}(0);}
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00034}00034 \}}
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00035}00035 }
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00036}\mbox{\hyperlink{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_afe461d27b9c48d5921c00d521181f12f}{00036}} \textcolor{keywordtype}{void} \mbox{\hyperlink{0001-_b_u_t_t_o_n_s_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_afe461d27b9c48d5921c00d521181f12f}{loop}}()}
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00037}00037 \{}
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00038}00038     \mbox{\hyperlink{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_a557cbeabffc4ae613e1db945c13d140b}{sample}} = \mbox{\hyperlink{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_a805e1115f500e6d8046986b3e306779b}{sensor\_1}}.\mbox{\hyperlink{class_health_monitor_acebd76142707e393d35c46c1f4f488ec}{getSample}}(A1);}
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00039}00039     Serial.print(\textcolor{stringliteral}{"{}Sample:"{}});}
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00040}00040     Serial.print(\mbox{\hyperlink{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_a557cbeabffc4ae613e1db945c13d140b}{sample}});}
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00041}00041     \textcolor{keywordflow}{if} (\mbox{\hyperlink{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_a805e1115f500e6d8046986b3e306779b}{sensor\_1}}.\mbox{\hyperlink{class_health_monitor_acaa0f055c81672ecdd0ccd6c2fb838ca}{check}}(\mbox{\hyperlink{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_a557cbeabffc4ae613e1db945c13d140b}{sample}}) == \textcolor{keyword}{true})}
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00042}00042     \{}
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00043}00043         \mbox{\hyperlink{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_af6a39bfc7e1dc3b6f9c997c1c43fa996}{count}} = \mbox{\hyperlink{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_a805e1115f500e6d8046986b3e306779b}{sensor\_1}}.\mbox{\hyperlink{class_health_monitor_a1a0d1aacaaa44cf60e88b33bc86b2eb4}{getCounter}}();}
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00044}00044         Serial.print(\textcolor{stringliteral}{"{}    Conter:"{}});}
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00045}00045         Serial.print(\mbox{\hyperlink{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_af6a39bfc7e1dc3b6f9c997c1c43fa996}{count}});}
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00046}00046         \mbox{\hyperlink{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_a654f29211026f95a80879530898464ea}{dac\_output}} = (int)(\mbox{\hyperlink{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_af6a39bfc7e1dc3b6f9c997c1c43fa996}{count}} * 1023.0 / 100.0);}
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00047}00047         analogWrite(\mbox{\hyperlink{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_a3df6766829d4e2a23ad7afffcd8999d1}{DAC\_PIN}}, \mbox{\hyperlink{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_a654f29211026f95a80879530898464ea}{dac\_output}}); \textcolor{comment}{// 0= 0V, 1023=3.3V, 512=1.65V, etc.}}
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00048}00048         Serial.println(\textcolor{stringliteral}{"{}TRIGGERED"{}});}
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00049}00049         \mbox{\hyperlink{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_a26e44e0b5d60aea1a1a15032887d144e}{trigger\_timer}}.\mbox{\hyperlink{class_milli_timer_ac0d67f165ee428193b07c7c3464e960e}{set}}(10);}
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00050}00050         \mbox{\hyperlink{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_a805e1115f500e6d8046986b3e306779b}{sensor\_1}}.\mbox{\hyperlink{class_health_monitor_a8ef42b9203777a467dfe18c4bbe5d17e}{setCounter}}(0);}
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00051}00051         digitalWrite(A2, HIGH);}
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00052}00052     \}}
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00053}00053     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00054}00054     \{}
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00055}00055         \mbox{\hyperlink{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_af6a39bfc7e1dc3b6f9c997c1c43fa996}{count}} = \mbox{\hyperlink{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_a805e1115f500e6d8046986b3e306779b}{sensor\_1}}.\mbox{\hyperlink{class_health_monitor_a1a0d1aacaaa44cf60e88b33bc86b2eb4}{getCounter}}();}
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00056}00056         Serial.print(\textcolor{stringliteral}{"{}    Conter:"{}});}
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00057}00057         Serial.println(\mbox{\hyperlink{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_af6a39bfc7e1dc3b6f9c997c1c43fa996}{count}});}
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00058}00058         \mbox{\hyperlink{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_a654f29211026f95a80879530898464ea}{dac\_output}} = (int)(\mbox{\hyperlink{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_af6a39bfc7e1dc3b6f9c997c1c43fa996}{count}} * 1023.0 / 100.0);}
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00059}00059         analogWrite(\mbox{\hyperlink{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_a3df6766829d4e2a23ad7afffcd8999d1}{DAC\_PIN}}, \mbox{\hyperlink{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_a654f29211026f95a80879530898464ea}{dac\_output}}); \textcolor{comment}{// 0= 0V, 1023=3.3V, 512=1.65V, etc.}}
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00060}00060     \}}
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00061}00061 }
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00062}00062     \textcolor{keywordflow}{if} (\mbox{\hyperlink{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_a26e44e0b5d60aea1a1a15032887d144e}{trigger\_timer}}.\mbox{\hyperlink{class_milli_timer_a7db6330ee7f1551b88a324fce593f8aa}{poll}}() != 0)}
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00063}00063     \{}
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00064}00064         digitalWrite(A2, LOW);}
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00065}00065     \}}
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00066}00066 }
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00067}00067     delay(10);}
\DoxyCodeLine{\Hypertarget{0005-_s_e_n_s_i_n_g_2examples_2_t_e_s_t__0_2_t_e_s_t__0_8ino_source_l00068}00068 \}}

\end{DoxyCode}
