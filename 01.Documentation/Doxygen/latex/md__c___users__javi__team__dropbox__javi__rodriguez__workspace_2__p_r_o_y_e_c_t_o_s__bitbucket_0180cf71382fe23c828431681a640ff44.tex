\hypertarget{md__c___users__javi__team__dropbox__javi__rodriguez__workspace_2__p_r_o_y_e_c_t_o_s__bitbucket_0180cf71382fe23c828431681a640ff44_autotoc_md1}{}\doxysection{Nomenclatura}\label{md__c___users__javi__team__dropbox__javi__rodriguez__workspace_2__p_r_o_y_e_c_t_o_s__bitbucket_0180cf71382fe23c828431681a640ff44_autotoc_md1}
Dentro de esta carpeta se encontraran archivos o ficheros que pueden correponder a distintas ramas de trbajo por ello se decide mantener una coeherencia en la nomclatura que antiende a las siguientes reglas\+: {\bfseries{Bx\+\_\+\+Rx\+\_\+\+Vx}}


\begin{DoxyItemize}
\item Bx \+: Rama principal.
\item Rx \+: Rama secundaria.
\item Vx \+: Version.
\end{DoxyItemize}

Ej\+: B2\+\_\+\+R3\+\_\+\+V5. Version 5 de la rama secundaria 3 de la rama principal 2.\hypertarget{md__c___users__javi__team__dropbox__javi__rodriguez__workspace_2__p_r_o_y_e_c_t_o_s__bitbucket_0180cf71382fe23c828431681a640ff44_autotoc_md2}{}\doxysection{Tabla de Versiones}\label{md__c___users__javi__team__dropbox__javi__rodriguez__workspace_2__p_r_o_y_e_c_t_o_s__bitbucket_0180cf71382fe23c828431681a640ff44_autotoc_md2}
\hypertarget{md__c___users__javi__team__dropbox__javi__rodriguez__workspace_2__p_r_o_y_e_c_t_o_s__bitbucket_0180cf71382fe23c828431681a640ff44_autotoc_md3}{}\doxysubsection{B1}\label{md__c___users__javi__team__dropbox__javi__rodriguez__workspace_2__p_r_o_y_e_c_t_o_s__bitbucket_0180cf71382fe23c828431681a640ff44_autotoc_md3}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{5}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Version   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Features Added   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Commit   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Board   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ IDE    }\\\cline{1-5}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Version   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Features Added   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Commit   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Board   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ IDE    }\\\cline{1-5}
\endhead
\PBS\centering B1\+\_\+\+V15   &\PBS\centering Interaccion con la bateria   &\PBS\centering cebfe41\+:Merge BAT-\/96   &\PBS\centering Feather M0   &\PBS\centering VSCODE    \\\cline{1-5}
\PBS\centering B1\+\_\+\+V14   &\PBS\centering Alerta de Error   &\PBS\centering 564718c\+:Merge BAT-\/95   &\PBS\centering Feather M0   &\PBS\centering VSCODE    \\\cline{1-5}
\PBS\centering B1\+\_\+\+V13   &\PBS\centering Aviso Bateria Baja   &\PBS\centering 5eac8e8\+:Merge BAT-\/94   &\PBS\centering Feather M0   &\PBS\centering VSCODE    \\\cline{1-5}
\PBS\centering B1\+\_\+\+V12   &\PBS\centering Temporizador de Inactiidd   &\PBS\centering aae4b20\+:Merge branch bat 94   &\PBS\centering Feather M0   &\PBS\centering VSCODE    \\\cline{1-5}
\PBS\centering B1\+\_\+\+V11   &\PBS\centering Estado de Conexion USB   &\PBS\centering 5d9c458\+:Version 11   &\PBS\centering Feather M0   &\PBS\centering VSCODE    \\\cline{1-5}
\PBS\centering B1\+\_\+\+V10   &\PBS\centering Modo Sleep y bajo consumo   &\PBS\centering 58g65ed\+:B1\+\_\+\+V10\+\_\+ Sleep Mode \& External Interrupt   &\PBS\centering Feather M0   &\PBS\centering VSCODE    \\\cline{1-5}
\PBS\centering B1\+\_\+\+V9   &\PBS\centering Profiling   &\PBS\centering db26dc1\+:B1\+\_\+\+V9 Profiling   &\PBS\centering Feather M0   &\PBS\centering VSCODE    \\\cline{1-5}
\PBS\centering B1\+\_\+\+V8   &\PBS\centering Power Bar y Brillo Tenue   &\PBS\centering cf2be86\+:B1\+\_\+\+V8 Power Bar \& Low Brightness   &\PBS\centering Feather M0   &\PBS\centering VSCODE    \\\cline{1-5}
\PBS\centering B1\+\_\+\+V7   &\PBS\centering Lectura Capacidad \& Fix Error   &\PBS\centering 68dcdad\+:B1\+\_\+\+V7 Lectura Capacidad \& Fix Error   &\PBS\centering Feather M0   &\PBS\centering VSCODE    \\\cline{1-5}
\PBS\centering B1\+\_\+\+V6   &\PBS\centering Diagnostico Basico   &\PBS\centering 2dbfe4a\+:B1\+\_\+\+V6   &\PBS\centering Feather M0   &\PBS\centering VSCODE    \\\cline{1-5}
\PBS\centering B1\+\_\+\+V5   &\PBS\centering Sonidos Basicos   &\PBS\centering 07cce4f\+:\+B\+\_\+\+V5\+:Buzzers Sounds   &\PBS\centering Feather M0   &\PBS\centering VSCODE    \\\cline{1-5}
\PBS\centering B1\+\_\+\+V4   &\PBS\centering Funcionalidades Basicas Botoneras y Display   &\PBS\centering 001e90f\+:B1\+\_\+\+V4   &\PBS\centering Feather M0   &\PBS\centering VSCODE    \\\cline{1-5}
\PBS\centering B1\+\_\+\+V3   &\PBS\centering Proteccion Under\+Voltage y Proteccion Over\+Power   &\PBS\centering fab392e\+:\+B1\+\_\+\+V3\+: Under\+Voltage \& Over\+Power Protection   &\PBS\centering Feather M0   &\PBS\centering VSCODE    \\\cline{1-5}
\PBS\centering B1\+\_\+\+V2   &\PBS\centering Proteccion Sobre\+Corriente y Tiempo de Arranque   &\PBS\centering 1028ac8\+: B1\+\_\+\+V2 Consumption Protection   &\PBS\centering Feather M0   &\PBS\centering Arduino 1.\+8.\+12    \\\cline{1-5}
\PBS\centering B1\+\_\+\+V1   &\PBS\centering Gestion Boost-\/\+No Boost   &\PBS\centering d34e26a\+: B1\+\_\+\+V1   &\PBS\centering Metro M0 express   &\PBS\centering Arduino 1.\+8.\+12   \\\cline{1-5}
\end{longtabu}
\hypertarget{md__c___users__javi__team__dropbox__javi__rodriguez__workspace_2__p_r_o_y_e_c_t_o_s__bitbucket_0180cf71382fe23c828431681a640ff44_autotoc_md4}{}\doxysection{Descripcion de Versiones B1}\label{md__c___users__javi__team__dropbox__javi__rodriguez__workspace_2__p_r_o_y_e_c_t_o_s__bitbucket_0180cf71382fe23c828431681a640ff44_autotoc_md4}
\hypertarget{md__c___users__javi__team__dropbox__javi__rodriguez__workspace_2__p_r_o_y_e_c_t_o_s__bitbucket_0180cf71382fe23c828431681a640ff44_autotoc_md5}{}\doxysubsection{v15 Interaccion con la introduccion de la bateria}\label{md__c___users__javi__team__dropbox__javi__rodriguez__workspace_2__p_r_o_y_e_c_t_o_s__bitbucket_0180cf71382fe23c828431681a640ff44_autotoc_md5}
al insertarse la bateria en el body, es necesario que haya un feedback para el usuario. Se ha decidido de manera inicial, incluir un leve brillo en la pantalla seguido de mostrar el nivel de la bateria. Tra ello la bateria procederia a apagarse y entrar en el estado de Sleep. Esta interaccion tiene que tener lugar previamente a entra en el ciclo de contro lya que solo se realizara cada vez que la CPU reciba alimentacion.\hypertarget{md__c___users__javi__team__dropbox__javi__rodriguez__workspace_2__p_r_o_y_e_c_t_o_s__bitbucket_0180cf71382fe23c828431681a640ff44_autotoc_md6}{}\doxysubsection{v14 Alerta de Error}\label{md__c___users__javi__team__dropbox__javi__rodriguez__workspace_2__p_r_o_y_e_c_t_o_s__bitbucket_0180cf71382fe23c828431681a640ff44_autotoc_md6}
Cuando una de las protecciones salta, el sistema se dirije el estado de error. Es necesario crear una alerta visual y sonora que alerte al ususario que el fncionamiento no esta siendo el adecuado. Tras reporducir la alerta el sistema se redigira al estado de STOP.\hypertarget{md__c___users__javi__team__dropbox__javi__rodriguez__workspace_2__p_r_o_y_e_c_t_o_s__bitbucket_0180cf71382fe23c828431681a640ff44_autotoc_md7}{}\doxysubsection{V13 Aviso Bateria Baja}\label{md__c___users__javi__team__dropbox__javi__rodriguez__workspace_2__p_r_o_y_e_c_t_o_s__bitbucket_0180cf71382fe23c828431681a640ff44_autotoc_md7}
Siempre que la bateria se encuentre por debajo de cierto voltaje, no se puede asegurar un correcto funcionamiento, debido a que si la maquina que se conecta a la bateria demanda ucha corriente, el voltaje de l abateria puede llegar a caer por debajo de los 2,9V llegando a provocar un apagado de la CPU por fallo en la alimentacion. Por esta razon, se decide incluir un aviso visual y sonoro siempre que al mostrar el porcentaje de bateri, este se enceuntre por debajo del umbral.

La imagen elegida para representar esta falta de bateria es un simbolo de un abateria tachada y parpadeando.

 
\begin{DoxyImage}
\includegraphics[width=\textwidth,height=\textheight/2,keepaspectratio=true]{LowBatt.jpg}
\doxyfigcaption{Low\+Batt}
\end{DoxyImage}
  

El sonido elegido para representar la falta de bateria son 3 pitidos consecutivos.\hypertarget{md__c___users__javi__team__dropbox__javi__rodriguez__workspace_2__p_r_o_y_e_c_t_o_s__bitbucket_0180cf71382fe23c828431681a640ff44_autotoc_md8}{}\doxysubsection{V12 Temporizador de No Uso}\label{md__c___users__javi__team__dropbox__javi__rodriguez__workspace_2__p_r_o_y_e_c_t_o_s__bitbucket_0180cf71382fe23c828431681a640ff44_autotoc_md8}
Siempre que la bateria se encuentr en el estado de STOP y no se haya pulsado ningun boton ni haya ocurrido un evento, la bateria se apagara automaticamente pasado X tiempo. La finalidad de esta medida es evitar que la bateria se pudiera desgastar al quedarse encendida demasiado tiempo.\hypertarget{md__c___users__javi__team__dropbox__javi__rodriguez__workspace_2__p_r_o_y_e_c_t_o_s__bitbucket_0180cf71382fe23c828431681a640ff44_autotoc_md9}{}\doxysubsection{V11 Estado de conexion USB}\label{md__c___users__javi__team__dropbox__javi__rodriguez__workspace_2__p_r_o_y_e_c_t_o_s__bitbucket_0180cf71382fe23c828431681a640ff44_autotoc_md9}
Cuando se conecte el USB al battery pack el chasis reacciona estado en un estadoq ue unicamente mostrara una animacion por el display indicando la conexion, y seguidamente se quedara permanentemente intentando conectarse al puerto serie. Si se consigue conectar al puerto serie, empezara a retransmitir la informacion del modo diagnostico (Aun por concretar esta informacion.)

Se volvera al modo sleep tras la desconexion del USB.

La deteccion de la conexion y desconexion se realizara mediante una interrupcion hardward.\hypertarget{md__c___users__javi__team__dropbox__javi__rodriguez__workspace_2__p_r_o_y_e_c_t_o_s__bitbucket_0180cf71382fe23c828431681a640ff44_autotoc_md10}{}\doxysubsection{V10 Modo Sleep y bajo consumo}\label{md__c___users__javi__team__dropbox__javi__rodriguez__workspace_2__p_r_o_y_e_c_t_o_s__bitbucket_0180cf71382fe23c828431681a640ff44_autotoc_md10}
Con el fin de aumentar la vida de la bateria, durante el estado de sleep, se introducira al micro en un estado de lowpower o Standby. Para despertar el micro se utilizara una interrupcion harward provocada por el boton central. Tras el despertar se analiza la rutina de atencion de la interrupcion y se continuara el rpograma justo despues de la intruccion que duerme al micro.\hypertarget{md__c___users__javi__team__dropbox__javi__rodriguez__workspace_2__p_r_o_y_e_c_t_o_s__bitbucket_0180cf71382fe23c828431681a640ff44_autotoc_md11}{}\doxysubsection{V9 Profiling}\label{md__c___users__javi__team__dropbox__javi__rodriguez__workspace_2__p_r_o_y_e_c_t_o_s__bitbucket_0180cf71382fe23c828431681a640ff44_autotoc_md11}
Para poder realizar un perfil de tiempos, se utilizan 6 pines que actualmente no tienen uso para, utilizando un analizador logico, se pueda obersvar el consumo temporal de las distintas funciones como\+:


\begin{DoxyItemize}
\item Duracion del ciclo de control.
\item Lectura de la botonera.
\item Funciones del Buzzer.
\item Funciones del Display.
\item Funciones de Diagnostico.
\item Funcion de la Power Bar.
\end{DoxyItemize}

Debido a esta incoporacion se han realizado un par de correcciones para evitar ciclos de control mas largos de lo necesario.\hypertarget{md__c___users__javi__team__dropbox__javi__rodriguez__workspace_2__p_r_o_y_e_c_t_o_s__bitbucket_0180cf71382fe23c828431681a640ff44_autotoc_md12}{}\doxysubsection{V8 Power Bar y Brillo Tenue}\label{md__c___users__javi__team__dropbox__javi__rodriguez__workspace_2__p_r_o_y_e_c_t_o_s__bitbucket_0180cf71382fe23c828431681a640ff44_autotoc_md12}
Manejo de la barra de potencia, formada por 14 leds puestos en linea recta. Colocada en la parte inferior del Display. La barra de potencia mostrara de forma grafica el valor de la potencia instantanea, de forma que con un fondo de escala ajustable (incialmente en 2500 mW) y una granularidad de 13 leds, se encienden los leds de manera fluida.

En los estados de inicio, apagado, error y diagnostico, la barra de potencia estara completamente apagada.

Por otro lado, se ha determiando la necesaidad de incluir un modo de brillo tenue que se active a los 5 segundos de que no se produzca ninguna interaccion con la bateria, que disminuya considerablemente el brillo del Display. En el momenot que se pulse cualquiera de los botones, la pantalla recupera el brillo.

La disminucion del brillo solo afecta al estado de Work y Capaciti, deminuyendo el brillo del display y la barra de potencia.\hypertarget{md__c___users__javi__team__dropbox__javi__rodriguez__workspace_2__p_r_o_y_e_c_t_o_s__bitbucket_0180cf71382fe23c828431681a640ff44_autotoc_md13}{}\doxysubsection{V7 Lectura Capacidad \& Fix Error}\label{md__c___users__javi__team__dropbox__javi__rodriguez__workspace_2__p_r_o_y_e_c_t_o_s__bitbucket_0180cf71382fe23c828431681a640ff44_autotoc_md13}
Se incluye el calculo de la capacidad de la bateria partiendo de la lectura del voltaje. Esta lectura de realiza siempre cuando la salida se encuentra descoenctada para evitar que la carga afecte al voltaje, realizando la medida en vacio. Se situan los extremos en 4,2V y 3,5 como maximo y minimo respectivamente.

Propuesta de muestra de la informacion de la capacidaden 2 lugares\+:


\begin{DoxyItemize}
\item En la inicializacion.
\item Si se mantiene apretado el boton central, se muestra la capacidad durante un breve tiempo antes de mostrar un mensaje de apagado. Si se mantiene apretado termina entrando en modo sleep.\+En el caso de soltarse, vuelve al estado previo (Stop/\+Run).
\end{DoxyItemize}

Se incluye la proteccion del voltage de entrada pera prevenir que la bateria baje por debajo de un umbral que no asegure un correcto funcionamiento del sistema.

Caracteristicas\+:


\begin{DoxyItemize}
\item Umbral\+: 3300 mV.
\item Tiempo\+: 500 ms.
\item Sistema de doble pendiente.
\end{DoxyItemize}\hypertarget{md__c___users__javi__team__dropbox__javi__rodriguez__workspace_2__p_r_o_y_e_c_t_o_s__bitbucket_0180cf71382fe23c828431681a640ff44_autotoc_md14}{}\doxysubsubsection{Fix Error}\label{md__c___users__javi__team__dropbox__javi__rodriguez__workspace_2__p_r_o_y_e_c_t_o_s__bitbucket_0180cf71382fe23c828431681a640ff44_autotoc_md14}
Se ha detectado que si no se levanta el boton central, el sistema se enciende y se apaga constantemente. Como solucion, al apagar se espera a que se levante el boton para permitir volver a pulsar y encencer el sistema.\hypertarget{md__c___users__javi__team__dropbox__javi__rodriguez__workspace_2__p_r_o_y_e_c_t_o_s__bitbucket_0180cf71382fe23c828431681a640ff44_autotoc_md15}{}\doxysubsection{V6 Diagnostico Basico}\label{md__c___users__javi__team__dropbox__javi__rodriguez__workspace_2__p_r_o_y_e_c_t_o_s__bitbucket_0180cf71382fe23c828431681a640ff44_autotoc_md15}
Se decide realizar un seguimeinto de ciertas variables que se consideran de interes. para ello se utuilizan 2 memorias EEPROM, una situada en la parte del chasis y otra en la parte de la bateria.

En la bateria se guardaran datos relacionados con la identidad y vida de la bateria como son\+:


\begin{DoxyItemize}
\item Modelo.
\item Numero de serie.
\item Numero de ciclos/\+Tiempo de Uso.
\item Esstadisticas de uso en voltage y potencia.
\item Log de errores que ha podido sufrir.
\end{DoxyItemize}

En el chasis se almacena informacion relacionada con la configuracion del chasis como son\+:


\begin{DoxyItemize}
\item Seleccion de los sonidos(Encendido,Run/\+Stop,Up,Down).
\item Voltaje de funcionamiento.
\item Numero de serie del chasis.
\end{DoxyItemize}

La consulta de estos datos se realiza por el puerto serie, habiendo leido las memorias previamente.

Libreria Usada\+: \href{../../0010-LOGGING/DOC/../../bat_sw/0002-\%20TEST/0010-LOGGING/DOC/SlowSoftI2CMaster-master/SlowSoftI2CMaster.h}{\texttt{ diagnostic.\+h}}\hypertarget{md__c___users__javi__team__dropbox__javi__rodriguez__workspace_2__p_r_o_y_e_c_t_o_s__bitbucket_0180cf71382fe23c828431681a640ff44_autotoc_md16}{}\doxysubsection{V5 (\+Buzzer Sounds)}\label{md__c___users__javi__team__dropbox__javi__rodriguez__workspace_2__p_r_o_y_e_c_t_o_s__bitbucket_0180cf71382fe23c828431681a640ff44_autotoc_md16}
Se decide añadir el modulo del control del Zumbador/\+Buzzer. Con este modulo se incorporan sonidos a determinados eventos. Los sonidos se seleccionaran entra alternativas en una funcion de inicializacion, segun el atributo de entrada.

Los eventos que iran acompañados de sonidos en esta integracion son\+:


\begin{DoxyItemize}
\item Inicio.
\item Apagado.
\item Subida de Voltaje.
\item Bajada de Voltaje.
\item Run/\+Stop.
\end{DoxyItemize}\hypertarget{md__c___users__javi__team__dropbox__javi__rodriguez__workspace_2__p_r_o_y_e_c_t_o_s__bitbucket_0180cf71382fe23c828431681a640ff44_autotoc_md17}{}\doxysubsection{V4 (\+Funcionalidades Basicas Botoneras y Display)}\label{md__c___users__javi__team__dropbox__javi__rodriguez__workspace_2__p_r_o_y_e_c_t_o_s__bitbucket_0180cf71382fe23c828431681a640ff44_autotoc_md17}
Para clarificar la integracion del display y de la botonera y se dividirá la integracion en 2 pasos.

Primero se incluira el display con las funcionalidades de\+: Mensaje de inicio y visualizar Voltaje.

Y luego, se incluira la botonera con las funcionalidades de \+: Subir/bajar voltaje y Run/\+Stop.\hypertarget{md__c___users__javi__team__dropbox__javi__rodriguez__workspace_2__p_r_o_y_e_c_t_o_s__bitbucket_0180cf71382fe23c828431681a640ff44_autotoc_md18}{}\doxysubsubsection{V4.\+1 $<$em$>$\+Display$<$/em$>$}\label{md__c___users__javi__team__dropbox__javi__rodriguez__workspace_2__p_r_o_y_e_c_t_o_s__bitbucket_0180cf71382fe23c828431681a640ff44_autotoc_md18}
La parte del display integrara 2 funcionalidades.

{\bfseries{Funcionalidades.}}


\begin{DoxyItemize}
\item Mensaje de Inicio\+: Al encendido de la bateria se mostrara en la pantalla una cadena de caracteres predeterminada.
\item Visualizar Voltaje\+: En el ciclo de control se mostrara en la pantalla el voltaje con el siguiente formato\+:
\end{DoxyItemize}

 

{\bfseries{Librerias usadas\+:}}


\begin{DoxyItemize}
\item Display (\char`\"{}$\ast$display.\+h$\ast$\char`\"{},\char`\"{}$\ast$bitmaps.\+h$\ast$\char`\"{}).
\item Dpad (\char`\"{}$\ast$\+Dpad.\+h$\ast$\char`\"{})
\end{DoxyItemize}

{\bfseries{Test.}}

 
\begin{DoxyImage}
\includegraphics[width=\textwidth,height=\textheight/2,keepaspectratio=true]{dispplayvoltage.jpeg}
\doxyfigcaption{"{}IMAGEN NOT FOUND"{}}
\end{DoxyImage}
  \hypertarget{md__c___users__javi__team__dropbox__javi__rodriguez__workspace_2__p_r_o_y_e_c_t_o_s__bitbucket_0180cf71382fe23c828431681a640ff44_autotoc_md19}{}\doxyparagraph{V4 $<$em$>$\+Display \& Buttons$<$/em$>$}\label{md__c___users__javi__team__dropbox__javi__rodriguez__workspace_2__p_r_o_y_e_c_t_o_s__bitbucket_0180cf71382fe23c828431681a640ff44_autotoc_md19}
{\bfseries{Funcionalidades.}}


\begin{DoxyItemize}
\item State Machine\+: Diferenciacion de distintos estados y las condiciones de cambio correspondientes\+:
\begin{DoxyItemize}
\item Initialization\+: Mesnaje de bienvenida y arranque.
\item Run\+: Voltaje por display y activacion de la salida.
\item Stop\+: Voltaje por Display y salida desactivada.
\item Sleep\+: Mensaje de despedida y bateria \char`\"{}apagada\char`\"{}.
\item ERROR\+: Mensaje de error.
\end{DoxyItemize}
\item Subida y bajada de voltaje con los botones.
\item Activacion y desactavacion de la salida con los botones.
\end{DoxyItemize}

\DoxyHorRuler{0}
\hypertarget{md__c___users__javi__team__dropbox__javi__rodriguez__workspace_2__p_r_o_y_e_c_t_o_s__bitbucket_0180cf71382fe23c828431681a640ff44_autotoc_md21}{}\doxysubsection{V3 (\+Proteccion Under\+Voltage y Proteccion Over\+Power.)}\label{md__c___users__javi__team__dropbox__javi__rodriguez__workspace_2__p_r_o_y_e_c_t_o_s__bitbucket_0180cf71382fe23c828431681a640ff44_autotoc_md21}
Se creean 2 helath\+Monitor independientes para cada proteccion. El funcionamiento de estas protecciones son equivalentes a la proteccion de sobreconsumo.

Supuestos\+:


\begin{DoxyItemize}
\item {\bfseries{Voltage.}} Sucederá si la máquina se queda bloqueada y el DCDC no puede mantener la salida.
\item {\bfseries{Potencia}} Considerando la Vout la teórica, no la Vo\+\_\+sense (más restrictivo).
\end{DoxyItemize}

{\bfseries{Caracteristicas.}}


\begin{DoxyItemize}
\item Proteccion de Under\+Voltage.
\begin{DoxyItemize}
\item Umbral\+: 2 Voltios
\item Tiempo\+: 1 segundos
\item Sistema de doble pendiente.
\end{DoxyItemize}
\item Proteccion de Sobre\+Potencia.
\begin{DoxyItemize}
\item Umbral\+: 4 Watios
\item Tiempo\+: 2 segundos
\item Sistema de doble pendiente.
\end{DoxyItemize}
\end{DoxyItemize}

{\bfseries{Test.}}

\texorpdfstring{$<$}{<}img src=\char`\"{}0000-\/\+Image/\+B1\+\_\+\+V3\%20\+Over\+Power\+Protection.\+png\char`\"{} alt=\char`\"{}\char`\"{}IMAGE NOT FOUND\char`\"{}\char`\"{} title=\char`\"{}\+Over Power Protection\char`\"{}/\texorpdfstring{$>$}{>}

\texorpdfstring{$<$}{<}img src=\char`\"{}0000-\/\+Image/\+B1\+\_\+\+V3\%20\+Under\+Voltage\+Protection.\+png\char`\"{} alt=\char`\"{}\char`\"{}IMAGE NOT FOUND\char`\"{}\char`\"{} title=\char`\"{}\+Under Voltage Protection\char`\"{}/\texorpdfstring{$>$}{>}

\DoxyHorRuler{0}
\hypertarget{md__c___users__javi__team__dropbox__javi__rodriguez__workspace_2__p_r_o_y_e_c_t_o_s__bitbucket_0180cf71382fe23c828431681a640ff44_autotoc_md23}{}\doxysubsection{V2 (\+Proteccion de sobreconsumo y Tiempo de Arranque)}\label{md__c___users__javi__team__dropbox__javi__rodriguez__workspace_2__p_r_o_y_e_c_t_o_s__bitbucket_0180cf71382fe23c828431681a640ff44_autotoc_md23}
Un Health Monitor sera el encargado de ir checkeando que el consumo no supera el limite durante un determinado tiempo. En caso de activarse, se abrira un abanico de timepo en que se cortara la salida, tras el cual se volvera a checkear la salida. Si la proteccion salta varias veces, se considerara que la bateria se encuentra en un estado de mal funcionamiento/error. En versiones futuras se crearan las rutinas de atencion correspondientes.

{\bfseries{Supuestos\+:}}


\begin{DoxyItemize}
\item Supuesto 1\+: la salida está a 8V, la máquina se queda bloqueada en el arranque (una máquina bloqueada suele consumir unos 500mA bloqueada). 8V$\ast$500mA = 4W, lo que estaría en el límite de la primera protección, toda salida por debajo de 8V no haría saltar ninguna protección.
\item Supuesto 2\+: el cargador corta y reintenta cada 60ms -\/\texorpdfstring{$>$}{>} no saltaría esta protección pq la salida no llegararía a subir
\item Supuesto 3\+: Cortocircuito al introducir el conector -\/\texorpdfstring{$>$}{>} poco tiempo, no saltaría, pero tampoco queremos que salte -\/\texorpdfstring{$>$}{>} ergo, es bien.
\end{DoxyItemize}

{\bfseries{Caracteristicas\+:}}


\begin{DoxyItemize}
\item Proteccion\+:
\begin{DoxyItemize}
\item Umbral\+: 450 mA.
\item Tiempo\+: 1500 ms.
\item Sistema de doble pendiente.
\end{DoxyItemize}
\item Tiempo de Arranque\+: Durante el tiempo que dura un arranque (200ms aprox.) se desactivaran las comprobaciones de las protecciones.
\end{DoxyItemize}

{\bfseries{Test\+:}}

 
\begin{DoxyImage}
\includegraphics[width=\textwidth,height=\textheight/2,keepaspectratio=true]{B1_V2_ConsumptionProtection.png}
\doxyfigcaption{Protecion de consumo}
\end{DoxyImage}
  

\DoxyHorRuler{0}
\hypertarget{md__c___users__javi__team__dropbox__javi__rodriguez__workspace_2__p_r_o_y_e_c_t_o_s__bitbucket_0180cf71382fe23c828431681a640ff44_autotoc_md25}{}\doxysubsection{V1}\label{md__c___users__javi__team__dropbox__javi__rodriguez__workspace_2__p_r_o_y_e_c_t_o_s__bitbucket_0180cf71382fe23c828431681a640ff44_autotoc_md25}
Gestion y deteccion del modo Boost/\+No boost. Cuando la corriente de salida sea superior a un umbral durante un determinado timep, se debera activar la salida en modo BOOST, mientras que si se encuentra por debajo del umbral durante otro determinado tiempo, se debera desactivar la salida modo BOOSt.

{\bfseries{Caracteristicas\+:}}


\begin{DoxyItemize}
\item Umbral\+: 15 mA
\item Tiempo Boost\+: 100 ms
\item Tiempo No Boost\+: 1s.
\end{DoxyItemize}

{\bfseries{Test\+:}}

 
\begin{DoxyInlineImage}
\includegraphics[height=\baselineskip,keepaspectratio=true]{B1_V1_BoostOff.png}%B1\+\_\+\+V1\+\_\+\+Boost\+Off
\end{DoxyInlineImage}
    
\begin{DoxyInlineImage}
\includegraphics[height=\baselineskip,keepaspectratio=true]{B1_V1_BoostON.png}%B1\+\_\+\+V1\+\_\+\+Boost\+ON
\end{DoxyInlineImage}
    
\begin{DoxyInlineImage}
\includegraphics[height=\baselineskip,keepaspectratio=true]{B1_V1_On-OFF_1.png}%B1\+\_\+\+V1\+\_\+\+On-\/\+OFF\+\_\+1
\end{DoxyInlineImage}
    
\begin{DoxyInlineImage}
\includegraphics[height=\baselineskip,keepaspectratio=true]{B1_V1_On-Off_2.png}%B1\+\_\+\+V1\+\_\+\+On-\/\+Off\+\_\+2
\end{DoxyInlineImage}
   