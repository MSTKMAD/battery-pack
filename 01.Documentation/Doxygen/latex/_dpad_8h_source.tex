\hypertarget{_dpad_8h_source}{}\doxysection{Dpad.\+h}
\label{_dpad_8h_source}\index{C:/Users/Javi/Team Dropbox/Javi Rodriguez/Workspace/2-\/PROYECTOS/Bitbucket/03-\/Battery Pack/bat\_sw/LIBRARIES/0001-\/BUTTONS/Dpad.h@{C:/Users/Javi/Team Dropbox/Javi Rodriguez/Workspace/2-\/PROYECTOS/Bitbucket/03-\/Battery Pack/bat\_sw/LIBRARIES/0001-\/BUTTONS/Dpad.h}}
\mbox{\hyperlink{_dpad_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00001}00001 }
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00012}\mbox{\hyperlink{_dpad_8h_a0283079e2ebfe2a36d74f58b3bda965b}{00012}} \textcolor{keyword}{const} int16\_t \mbox{\hyperlink{_dpad_8h_a0283079e2ebfe2a36d74f58b3bda965b}{C\_LP\_CENTER}} = 0x01;}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00013}00013 \textcolor{comment}{//const int16\_t C\_LP\_RIGHT = 0x02;}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00014}00014 \textcolor{comment}{//const int16\_t C\_LP\_LEFT = 0x03;}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00015}\mbox{\hyperlink{_dpad_8h_a94c3a89769b4ced6c99cca3e7596e7ba}{00015}} \textcolor{keyword}{const} int16\_t \mbox{\hyperlink{_dpad_8h_a94c3a89769b4ced6c99cca3e7596e7ba}{C\_LP\_UP}} = 0x04;}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00016}\mbox{\hyperlink{_dpad_8h_a2c9c5cb70e2fdd47926c1fc71a54b974}{00016}} \textcolor{keyword}{const} int16\_t \mbox{\hyperlink{_dpad_8h_a2c9c5cb70e2fdd47926c1fc71a54b974}{C\_LP\_DOWN}} = 0x05;}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00017}\mbox{\hyperlink{_dpad_8h_a8b3f3494d90d6ef7a384253d17418392}{00017}} \textcolor{keyword}{const} int16\_t \mbox{\hyperlink{_dpad_8h_a8b3f3494d90d6ef7a384253d17418392}{C\_CLICK\_CENTER}} = 0x06;}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00018}00018 \textcolor{comment}{//const int16\_t C\_CLICK\_RIGHT = 0x07;}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00019}00019 \textcolor{comment}{//const int16\_t C\_CLICK\_LEFT = 0x08;}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00020}\mbox{\hyperlink{_dpad_8h_a0cb709d731efe8eed0ba27d7bc5c0f04}{00020}} \textcolor{keyword}{const} int16\_t \mbox{\hyperlink{_dpad_8h_a0cb709d731efe8eed0ba27d7bc5c0f04}{C\_CLICK\_UP}} = 0x09;}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00021}\mbox{\hyperlink{_dpad_8h_ad8a5a68ee5917c9b48fcccb19bc23423}{00021}} \textcolor{keyword}{const} int16\_t \mbox{\hyperlink{_dpad_8h_ad8a5a68ee5917c9b48fcccb19bc23423}{C\_CLICK\_DOWN}} = 0x0A;}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00022}\mbox{\hyperlink{_dpad_8h_a0807a57abd82dc35f7d7865ab7ae4b86}{00022}} \textcolor{keyword}{const} int16\_t \mbox{\hyperlink{_dpad_8h_a0807a57abd82dc35f7d7865ab7ae4b86}{C\_NONE\_EVENT}} = 0x0B;}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00023}00023 }
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00024}\mbox{\hyperlink{_dpad_8h_a947d766921ce43aec19b1ba3c6b13aeb}{00024}} \textcolor{keyword}{const} int16\_t \mbox{\hyperlink{_dpad_8h_a947d766921ce43aec19b1ba3c6b13aeb}{C\_PIN\_BUTT\_UP}} = 9;}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00025}\mbox{\hyperlink{_dpad_8h_abd50bae55666f1b56c8debaf89c30fd5}{00025}} \textcolor{keyword}{const} int16\_t \mbox{\hyperlink{_dpad_8h_abd50bae55666f1b56c8debaf89c30fd5}{C\_PIN\_BUTT\_DOWN}} = 8;}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00026}00026 \textcolor{comment}{//const int16\_t C\_PIN\_BUTT\_RIGHT = 6;}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00027}00027 \textcolor{comment}{//const int16\_t C\_PIN\_BUTT\_LEFT = 7;}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00028}\mbox{\hyperlink{_dpad_8h_a90e5a0ae7282b21e10c1322e804f2664}{00028}} \textcolor{keyword}{const} int16\_t \mbox{\hyperlink{_dpad_8h_a90e5a0ae7282b21e10c1322e804f2664}{C\_PIN\_BUTT\_CENTER}} = 5;}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00029}00029 }
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00030}\mbox{\hyperlink{_dpad_8h_a93e2406faf16aa3edde644e90a7ec326}{00030}} \textcolor{keyword}{const} int16\_t \mbox{\hyperlink{_dpad_8h_a93e2406faf16aa3edde644e90a7ec326}{C\_TIMER\_DEBOUNCE}} = 50;}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00031}\mbox{\hyperlink{_dpad_8h_a5bd23c7fdf26f362c1ca787b275d15ca}{00031}} \textcolor{keyword}{const} int32\_t \mbox{\hyperlink{_dpad_8h_a5bd23c7fdf26f362c1ca787b275d15ca}{C\_TIMER\_LONGPRESS}} = 1000 + \mbox{\hyperlink{_dpad_8h_a93e2406faf16aa3edde644e90a7ec326}{C\_TIMER\_DEBOUNCE}};}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00032}\mbox{\hyperlink{_dpad_8h_ac16615442e2ed32ef09d643bac18313e}{00032}} \textcolor{keyword}{const} int32\_t \mbox{\hyperlink{_dpad_8h_ac16615442e2ed32ef09d643bac18313e}{C\_TIMER\_LONGPRESS\_LOOP}} = 500;}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00033}00033 }
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00034}\mbox{\hyperlink{_dpad_8h_a8a59bde91ecb811f010566cfb7916e0c}{00034}} \textcolor{keyword}{const} \textcolor{keywordtype}{bool} \mbox{\hyperlink{_dpad_8h_a8a59bde91ecb811f010566cfb7916e0c}{button\_pressed}} = LOW;}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00035}\mbox{\hyperlink{_dpad_8h_a952e98926fe414dc17cf255e3402a94e}{00035}} \textcolor{keyword}{const} \textcolor{keywordtype}{bool} \mbox{\hyperlink{_dpad_8h_a952e98926fe414dc17cf255e3402a94e}{button\_not\_pressed}} = HIGH;}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00036}00036 \textcolor{comment}{//\#include <MilliTimer.h>}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00042}\mbox{\hyperlink{_dpad_8h_a6b421ad8708aadcc0748da8035070970}{00042}} \textcolor{comment}{}int16\_t \mbox{\hyperlink{_dpad_8h_a6b421ad8708aadcc0748da8035070970}{ReadDirPad}}()}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00043}00043 \{}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00044}00044     int16\_t \textcolor{keyword}{event} = \mbox{\hyperlink{_dpad_8h_a0807a57abd82dc35f7d7865ab7ae4b86}{C\_NONE\_EVENT}};}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00045}00045     int16\_t cont\_changes = 0;}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00046}00046 }
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00047}00047     \textcolor{comment}{// Flags debouncing.}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00048}00048     \textcolor{keyword}{static} \textcolor{keywordtype}{bool} up\_debouncing = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00049}00049     \textcolor{keyword}{static} \textcolor{keywordtype}{bool} down\_debouncing = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00050}00050     \textcolor{comment}{// static bool left\_debouncing = false;}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00051}00051     \textcolor{comment}{// static bool right\_debouncing = false;}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00052}00052     \textcolor{keyword}{static} \textcolor{keywordtype}{bool} center\_debouncing = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00053}00053     \textcolor{comment}{// Flag preEvent.}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00054}00054     \textcolor{keyword}{static} \textcolor{keywordtype}{bool} up\_preEvent = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00055}00055     \textcolor{keyword}{static} \textcolor{keywordtype}{bool} down\_preEvent = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00056}00056     \textcolor{comment}{//static bool left\_preEvent = false;}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00057}00057     \textcolor{comment}{//static bool right\_preEvent = false;}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00058}00058     \textcolor{keyword}{static} \textcolor{keywordtype}{bool} center\_preEvent = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00059}00059 }
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00060}00060     \textcolor{comment}{// Flags del modo rapido.}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00061}00061     \textcolor{keyword}{static} \textcolor{keywordtype}{bool} up\_long\_press\_flag = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00062}00062     \textcolor{keyword}{static} \textcolor{keywordtype}{bool} down\_long\_press\_flag = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00063}00063     \textcolor{comment}{//static bool left\_long\_press\_flag = false;}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00064}00064     \textcolor{comment}{//static bool right\_long\_press\_flag = false;}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00065}00065     \textcolor{keyword}{static} \textcolor{keywordtype}{bool} center\_long\_press\_flag = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00066}00066 }
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00067}00067     \textcolor{comment}{// Timers filtro antirebote.}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00068}00068     \textcolor{keyword}{static} \mbox{\hyperlink{class_milli_timer}{MilliTimer}} timer\_up\_debounce;}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00069}00069     \textcolor{keyword}{static} \mbox{\hyperlink{class_milli_timer}{MilliTimer}} timer\_down\_debounce;}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00070}00070     \textcolor{comment}{//static MilliTimer timer\_right\_debounce;}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00071}00071     \textcolor{comment}{//static MilliTimer timer\_left\_debounce;}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00072}00072     \textcolor{keyword}{static} \mbox{\hyperlink{class_milli_timer}{MilliTimer}} timer\_center\_debounce;}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00073}00073 }
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00074}00074     \textcolor{comment}{// Timers Long press detect}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00075}00075     \textcolor{keyword}{static} \mbox{\hyperlink{class_milli_timer}{MilliTimer}} timer\_up\_longpress;}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00076}00076     \textcolor{keyword}{static} \mbox{\hyperlink{class_milli_timer}{MilliTimer}} timer\_down\_longpress;}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00077}00077     \textcolor{comment}{//static MilliTimer timer\_right\_longpress;}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00078}00078     \textcolor{comment}{//static MilliTimer timer\_left\_longpress;}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00079}00079     \textcolor{keyword}{static} \mbox{\hyperlink{class_milli_timer}{MilliTimer}} timer\_center\_longpress;}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00080}00080     \textcolor{comment}{// Estado actual del boton.}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00081}00081     \textcolor{keyword}{static} \textcolor{keywordtype}{bool} up\_butt\_state = \mbox{\hyperlink{_dpad_8h_a952e98926fe414dc17cf255e3402a94e}{button\_not\_pressed}};}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00082}00082     \textcolor{keyword}{static} \textcolor{keywordtype}{bool} down\_butt\_state = \mbox{\hyperlink{_dpad_8h_a952e98926fe414dc17cf255e3402a94e}{button\_not\_pressed}};}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00083}00083     \textcolor{comment}{//static bool left\_butt\_state = button\_not\_pressed;}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00084}00084     \textcolor{comment}{// static bool right\_butt\_state = button\_not\_pressed;}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00085}00085     \textcolor{keyword}{static} \textcolor{keywordtype}{bool} center\_butt\_state = \mbox{\hyperlink{_dpad_8h_a952e98926fe414dc17cf255e3402a94e}{button\_not\_pressed}};}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00086}00086 }
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00087}00087     \textcolor{comment}{// Estado anterior del boton.}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00088}00088     \textcolor{keyword}{static} \textcolor{keywordtype}{bool} up\_butt\_last\_state = \mbox{\hyperlink{_dpad_8h_a952e98926fe414dc17cf255e3402a94e}{button\_not\_pressed}};}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00089}00089     \textcolor{keyword}{static} \textcolor{keywordtype}{bool} down\_butt\_last\_state = \mbox{\hyperlink{_dpad_8h_a952e98926fe414dc17cf255e3402a94e}{button\_not\_pressed}};}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00090}00090     \textcolor{comment}{//static bool left\_butt\_last\_state = button\_not\_pressed;}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00091}00091     \textcolor{comment}{//static bool right\_butt\_last\_state = button\_not\_pressed;}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00092}00092     \textcolor{keyword}{static} \textcolor{keywordtype}{bool} center\_butt\_last\_state = \mbox{\hyperlink{_dpad_8h_a952e98926fe414dc17cf255e3402a94e}{button\_not\_pressed}};}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00093}00093 }
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00097}00097     \textcolor{keywordflow}{if} (up\_debouncing == \textcolor{keyword}{true})}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00098}00098     \{}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00099}00099         \textcolor{keywordflow}{if} (timer\_up\_debounce.\mbox{\hyperlink{class_milli_timer_a7db6330ee7f1551b88a324fce593f8aa}{poll}}())}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00100}00100         \{}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00101}00101             up\_debouncing = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00102}00102         \}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00103}00103     \}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00104}00104     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (up\_debouncing == \textcolor{keyword}{false})}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00105}00105     \{}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00106}00106         up\_butt\_state = digitalRead(\mbox{\hyperlink{_dpad_8h_a947d766921ce43aec19b1ba3c6b13aeb}{C\_PIN\_BUTT\_UP}});}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00107}00107         \textcolor{keywordflow}{if} (up\_butt\_state == \mbox{\hyperlink{_dpad_8h_a8a59bde91ecb811f010566cfb7916e0c}{button\_pressed}})}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00108}00108         \{}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00109}00109             \textcolor{keywordflow}{if} (up\_butt\_last\_state == \mbox{\hyperlink{_dpad_8h_a952e98926fe414dc17cf255e3402a94e}{button\_not\_pressed}})}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00110}00110             \{}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00111}00111                 timer\_up\_debounce.\mbox{\hyperlink{class_milli_timer_ac0d67f165ee428193b07c7c3464e960e}{set}}(\mbox{\hyperlink{_dpad_8h_a93e2406faf16aa3edde644e90a7ec326}{C\_TIMER\_DEBOUNCE}});}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00112}00112                 up\_debouncing = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00113}00113                 timer\_up\_longpress.\mbox{\hyperlink{class_milli_timer_ac0d67f165ee428193b07c7c3464e960e}{set}}(\mbox{\hyperlink{_dpad_8h_a5bd23c7fdf26f362c1ca787b275d15ca}{C\_TIMER\_LONGPRESS}});}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00114}00114             \}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00115}00115             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00116}00116             \{}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00117}00117                 \textcolor{keywordflow}{if} (timer\_up\_longpress.\mbox{\hyperlink{class_milli_timer_a7db6330ee7f1551b88a324fce593f8aa}{poll}}())}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00118}00118                 \{}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00119}00119                     up\_long\_press\_flag = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00120}00120                     \textcolor{keyword}{event} = \mbox{\hyperlink{_dpad_8h_a94c3a89769b4ced6c99cca3e7596e7ba}{C\_LP\_UP}};}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00121}00121                     timer\_up\_longpress.\mbox{\hyperlink{class_milli_timer_ac0d67f165ee428193b07c7c3464e960e}{set}}(\mbox{\hyperlink{_dpad_8h_ac16615442e2ed32ef09d643bac18313e}{C\_TIMER\_LONGPRESS\_LOOP}});}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00122}00122                 \}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00123}00123             \}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00124}00124         \}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00125}00125         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00126}00126         \{}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00127}00127             \textcolor{keywordflow}{if} (up\_butt\_last\_state == \mbox{\hyperlink{_dpad_8h_a8a59bde91ecb811f010566cfb7916e0c}{button\_pressed}})}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00128}00128             \{}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00129}00129                 timer\_up\_debounce.\mbox{\hyperlink{class_milli_timer_ac0d67f165ee428193b07c7c3464e960e}{set}}(\mbox{\hyperlink{_dpad_8h_a93e2406faf16aa3edde644e90a7ec326}{C\_TIMER\_DEBOUNCE}});}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00130}00130                 up\_debouncing = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00131}00131                 up\_preEvent = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00132}00132             \}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00133}00133             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (up\_preEvent == \textcolor{keyword}{true})}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00134}00134             \{}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00135}00135                 up\_preEvent = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00136}00136                 \textcolor{keywordflow}{if} (up\_long\_press\_flag == \textcolor{keyword}{false})}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00137}00137                 \{}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00138}00138                     \textcolor{keyword}{event} = \mbox{\hyperlink{_dpad_8h_a0cb709d731efe8eed0ba27d7bc5c0f04}{C\_CLICK\_UP}};}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00139}00139                 \}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00140}00140                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00141}00141                 \{}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00142}00142                     up\_long\_press\_flag = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00143}00143                 \}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00144}00144             \}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00145}00145         \}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00146}00146         up\_butt\_last\_state = up\_butt\_state;}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00147}00147     \}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00148}00148 }
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00153}00153     \textcolor{keywordflow}{if} (down\_debouncing == \textcolor{keyword}{true})}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00154}00154     \{}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00155}00155         \textcolor{keywordflow}{if} (timer\_down\_debounce.\mbox{\hyperlink{class_milli_timer_a7db6330ee7f1551b88a324fce593f8aa}{poll}}())}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00156}00156         \{}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00157}00157             down\_debouncing = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00158}00158         \}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00159}00159     \}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00160}00160     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (down\_debouncing == \textcolor{keyword}{false})}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00161}00161     \{}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00162}00162         down\_butt\_state = digitalRead(\mbox{\hyperlink{_dpad_8h_abd50bae55666f1b56c8debaf89c30fd5}{C\_PIN\_BUTT\_DOWN}});}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00163}00163         \textcolor{keywordflow}{if} (down\_butt\_state == \mbox{\hyperlink{_dpad_8h_a8a59bde91ecb811f010566cfb7916e0c}{button\_pressed}})}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00164}00164         \{}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00165}00165             \textcolor{keywordflow}{if} (down\_butt\_last\_state == \mbox{\hyperlink{_dpad_8h_a952e98926fe414dc17cf255e3402a94e}{button\_not\_pressed}})}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00166}00166             \{}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00167}00167                 timer\_down\_debounce.\mbox{\hyperlink{class_milli_timer_ac0d67f165ee428193b07c7c3464e960e}{set}}(\mbox{\hyperlink{_dpad_8h_a93e2406faf16aa3edde644e90a7ec326}{C\_TIMER\_DEBOUNCE}});}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00168}00168                 down\_debouncing = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00169}00169                 timer\_down\_longpress.\mbox{\hyperlink{class_milli_timer_ac0d67f165ee428193b07c7c3464e960e}{set}}(\mbox{\hyperlink{_dpad_8h_a5bd23c7fdf26f362c1ca787b275d15ca}{C\_TIMER\_LONGPRESS}});}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00170}00170             \}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00171}00171             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00172}00172             \{}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00173}00173                 \textcolor{keywordflow}{if} (timer\_down\_longpress.\mbox{\hyperlink{class_milli_timer_a7db6330ee7f1551b88a324fce593f8aa}{poll}}())}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00174}00174                 \{}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00175}00175                     down\_long\_press\_flag = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00176}00176                     \textcolor{keyword}{event} = \mbox{\hyperlink{_dpad_8h_a2c9c5cb70e2fdd47926c1fc71a54b974}{C\_LP\_DOWN}};}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00177}00177                     timer\_down\_longpress.\mbox{\hyperlink{class_milli_timer_ac0d67f165ee428193b07c7c3464e960e}{set}}(\mbox{\hyperlink{_dpad_8h_ac16615442e2ed32ef09d643bac18313e}{C\_TIMER\_LONGPRESS\_LOOP}});}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00178}00178                 \}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00179}00179             \}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00180}00180         \}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00181}00181         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00182}00182         \{}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00183}00183             \textcolor{keywordflow}{if} (down\_butt\_last\_state == \mbox{\hyperlink{_dpad_8h_a8a59bde91ecb811f010566cfb7916e0c}{button\_pressed}})}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00184}00184             \{}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00185}00185                 timer\_down\_debounce.\mbox{\hyperlink{class_milli_timer_ac0d67f165ee428193b07c7c3464e960e}{set}}(\mbox{\hyperlink{_dpad_8h_a93e2406faf16aa3edde644e90a7ec326}{C\_TIMER\_DEBOUNCE}});}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00186}00186                 down\_debouncing = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00187}00187                 down\_preEvent = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00188}00188             \}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00189}00189             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (down\_preEvent == \textcolor{keyword}{true})}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00190}00190             \{}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00191}00191                 down\_preEvent = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00192}00192                 \textcolor{keywordflow}{if} (down\_long\_press\_flag == \textcolor{keyword}{false})}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00193}00193                 \{}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00194}00194                     \textcolor{keyword}{event} = \mbox{\hyperlink{_dpad_8h_ad8a5a68ee5917c9b48fcccb19bc23423}{C\_CLICK\_DOWN}};}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00195}00195                 \}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00196}00196                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00197}00197                 \{}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00198}00198                     down\_long\_press\_flag = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00199}00199                 \}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00200}00200             \}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00201}00201         \}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00202}00202         down\_butt\_last\_state = down\_butt\_state;}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00203}00203     \}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00204}00204     \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00317}00317 \textcolor{comment}{    if (center\_debouncing == true)}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00318}00318 \textcolor{comment}{    \{}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00319}00319 \textcolor{comment}{        if (timer\_center\_debounce.poll())}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00320}00320 \textcolor{comment}{        \{}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00321}00321 \textcolor{comment}{            center\_debouncing = false;}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00322}00322 \textcolor{comment}{        \}}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00323}00323 \textcolor{comment}{    \}}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00324}00324 \textcolor{comment}{    else if (center\_debouncing == false)}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00325}00325 \textcolor{comment}{    \{}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00326}00326 \textcolor{comment}{        center\_butt\_state = digitalRead(C\_PIN\_BUTT\_CENTER);}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00327}00327 \textcolor{comment}{        if (center\_butt\_state == button\_pressed)}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00328}00328 \textcolor{comment}{        \{}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00329}00329 \textcolor{comment}{            if (center\_butt\_last\_state == button\_not\_pressed)}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00330}00330 \textcolor{comment}{            \{}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00331}00331 \textcolor{comment}{                timer\_center\_debounce.set(C\_TIMER\_DEBOUNCE);}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00332}00332 \textcolor{comment}{                center\_debouncing = true;}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00333}00333 \textcolor{comment}{                timer\_center\_longpress.set(C\_TIMER\_LONGPRESS);}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00334}00334 \textcolor{comment}{            \}}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00335}00335 \textcolor{comment}{            else}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00336}00336 \textcolor{comment}{            \{}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00337}00337 \textcolor{comment}{                if (timer\_center\_longpress.poll())}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00338}00338 \textcolor{comment}{                \{}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00339}00339 \textcolor{comment}{                    center\_long\_press\_flag = true;}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00340}00340 \textcolor{comment}{                    event = C\_LP\_CENTER;}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00341}00341 \textcolor{comment}{                    timer\_center\_longpress.set(C\_TIMER\_LONGPRESS\_LOOP);}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00342}00342 \textcolor{comment}{                \}}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00343}00343 \textcolor{comment}{            \}}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00344}00344 \textcolor{comment}{        \}}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00345}00345 \textcolor{comment}{        else}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00346}00346 \textcolor{comment}{        \{}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00347}00347 \textcolor{comment}{            if (center\_butt\_last\_state == button\_pressed)}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00348}00348 \textcolor{comment}{            \{}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00349}00349 \textcolor{comment}{                timer\_center\_debounce.set(C\_TIMER\_DEBOUNCE);}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00350}00350 \textcolor{comment}{                center\_debouncing = true;}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00351}00351 \textcolor{comment}{                center\_preEvent = true;}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00352}00352 \textcolor{comment}{            \}}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00353}00353 \textcolor{comment}{            else if (center\_preEvent == true)}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00354}00354 \textcolor{comment}{            \{}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00355}00355 \textcolor{comment}{                center\_preEvent = false;}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00356}00356 \textcolor{comment}{                if (center\_long\_press\_flag == false)}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00357}00357 \textcolor{comment}{                \{}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00358}00358 \textcolor{comment}{                    event = C\_CLICK\_CENTER;}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00359}00359 \textcolor{comment}{                \}}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00360}00360 \textcolor{comment}{                else}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00361}00361 \textcolor{comment}{                \{}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00362}00362 \textcolor{comment}{                    center\_long\_press\_flag = false;}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00363}00363 \textcolor{comment}{                \}}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00364}00364 \textcolor{comment}{            \}}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00365}00365 \textcolor{comment}{        \}}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00366}00366 \textcolor{comment}{        center\_butt\_last\_state = center\_butt\_state;}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00367}00367 \textcolor{comment}{    \}}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00368}00368 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00369}00369 \textcolor{comment}{    return event;}}
\DoxyCodeLine{\Hypertarget{_dpad_8h_source_l00370}00370 \textcolor{comment}{\}}}

\end{DoxyCode}
